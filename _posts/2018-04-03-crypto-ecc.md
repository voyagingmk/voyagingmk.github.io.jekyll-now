---
layout: post
title: 漫谈网络通讯加密
tags: ['crypto']
published: true
---

<!--more-->

## 几种加密算法

### RSA

基于大数质因子分解问题。

### ECC

基于在椭圆曲线上的离散对数的求取问题。

### DH（Diffie-Hellman）

基于离散对数问题。

## **完全前向保密** PFS(Perfect Forward Secrecy)

### 没有PFS之前：

- 如果攻击者曾经窥探并保存了用户和服务器的加密数据流，且包括被公钥加密的对称密钥
- 如果有一天攻击者通过某种办法获得了服务器私钥
- 攻击者同时拥有了：“用公钥加密的对称密钥”、“私钥”
- 攻击者用“私钥”对“用公钥加密的对称密钥”解密，获得了对称密钥
- 攻击者此时就可以用破解出来的对称密钥对已存的历史加密数据做解密

### 基于DH的PFS：

- 不再使用公钥加密对称密钥的方案
- 改为用DH算法协商对称密钥，可以直接明文传输协商时需要的信息（并不怕对称密钥被破解）
- 每次会话都协商新的对称密钥
- 因为公钥私钥没有用来加密对称密钥了，所以即使服务器私钥被盗了也不会导致历史对称密钥被破解
